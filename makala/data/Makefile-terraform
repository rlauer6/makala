
TERRAFORM = \
    provider.tf \
    main.tf \
    variables.tfvars

plan: $(TERRAFORM)
	terraform plan -no-color -var-file variables.tfvars > plan.out || rm -f plan.out
	test -e plan.out && cat plan.out

apply:
	terraform apply -var-file variables.tfvars

.PHONY: apply plan

clean:
	rm -f plan.out
